{"dependencies":[{"name":"./AnimatedValue","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.clock = exports.default = void 0;\n\n  var _AnimatedValue2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"./AnimatedValue\"));\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"./AnimatedNode\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[2], \"../utils\");\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  var AnimatedMainClock = function (_AnimatedValue) {\n    _inherits(AnimatedMainClock, _AnimatedValue);\n\n    function AnimatedMainClock() {\n      var _this;\n\n      _classCallCheck(this, AnimatedMainClock);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AnimatedMainClock).call(this, {\n        type: 'MAIN_CLOCK'\n      }));\n\n      _this._runFrame = function () {\n        _this._updateValue(0);\n\n        if (_this.__children.length > 0) {\n          _this._frameCallback = requestAnimationFrame(_this._runFrame);\n        }\n      };\n\n      return _this;\n    }\n\n    _createClass(AnimatedMainClock, [{\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        return +new Date();\n      }\n    }, {\n      key: \"__attach\",\n      value: function __attach() {\n        _get(_getPrototypeOf(AnimatedMainClock.prototype), \"__attach\", this).call(this);\n\n        if (!this._frameCallback) {\n          this._frameCallback = requestAnimationFrame(this._runFrame);\n        }\n      }\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this._frameCallback) {\n          cancelAnimationFrame(this._frameCallback);\n          this._frameCallback = null;\n        }\n\n        _get(_getPrototypeOf(AnimatedMainClock.prototype), \"__detach\", this).call(this);\n      }\n    }]);\n\n    return AnimatedMainClock;\n  }(_AnimatedValue2.default);\n\n  var mainClock = new AnimatedMainClock();\n\n  var AnimatedClock = function (_AnimatedNode) {\n    _inherits(AnimatedClock, _AnimatedNode);\n\n    function AnimatedClock() {\n      _classCallCheck(this, AnimatedClock);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(AnimatedClock).call(this, {\n        type: 'clock'\n      }));\n    }\n\n    _createClass(AnimatedClock, [{\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        return (0, _utils.val)(mainClock);\n      }\n    }, {\n      key: \"__attach\",\n      value: function __attach() {\n        _get(_getPrototypeOf(AnimatedClock.prototype), \"__attach\", this).call(this);\n\n        if (this._started && !this._attached) {\n          mainClock.__addChild(this);\n        }\n\n        this._attached = true;\n      }\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this._started && this._attached) {\n          mainClock.__removeChild(this);\n        }\n\n        this._attached = false;\n\n        _get(_getPrototypeOf(AnimatedClock.prototype), \"__detach\", this).call(this);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        if (!this._started && this._attached) {\n          mainClock.__addChild(this);\n        }\n\n        this._started = true;\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this._started && this._attached) {\n          mainClock.__removeChild(this);\n        }\n\n        this._started = false;\n      }\n    }, {\n      key: \"isStarted\",\n      value: function isStarted() {\n        return this._started;\n      }\n    }]);\n\n    return AnimatedClock;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedClock;\n  var clock = mainClock;\n  exports.clock = clock;\n});","map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[35,6,5,6,"AnimatedMainClock"],[35,23],[38,0,8,2],[38,33,8,16],[39,0,8,16],[41,0,8,16],[43,0,9,4],[43,93,9,10],[44,0,9,12,"type"],[44,8,9,12,"type"],[44,12,9,16],[44,14,9,18],[45,0,9,10],[45,7,9,4],[47,0,8,16],[47,12,16,2,"_runFrame"],[47,21,8,16],[47,24,16,14],[47,36,16,20],[48,0,17,4],[48,14,17,9,"_updateValue"],[48,26,17,4],[48,27,17,22],[48,28,17,4],[50,0,18,4],[50,12,18,8],[50,18,18,13,"__children"],[50,28,18,8],[50,29,18,24,"length"],[50,35,18,8],[50,38,18,33],[50,39,18,4],[50,41,18,36],[51,0,19,6],[51,16,19,11,"_frameCallback"],[51,30,19,6],[51,33,19,28,"requestAnimationFrame"],[51,54,19,49],[51,55,19,50],[51,61,19,55,"_runFrame"],[51,70,19,49],[51,71,19,6],[52,0,20,5],[53,0,21,3],[53,7,8,16],[55,0,8,16],[56,0,10,3],[60,37,12,17],[61,0,13,4],[61,15,13,11],[61,16,13,12],[61,20,13,16,"Date"],[61,24,13,12],[61,26,13,4],[62,0,14,3],[65,33,23,13],[66,0,24,4],[68,0,25,4],[68,12,25,8],[68,13,25,9],[68,18,25,14,"_frameCallback"],[68,32,25,4],[68,34,25,30],[69,0,26,6],[69,15,26,11,"_frameCallback"],[69,29,26,6],[69,32,26,28,"requestAnimationFrame"],[69,53,26,49],[69,54,26,50],[69,59,26,55,"_runFrame"],[69,68,26,49],[69,69,26,6],[70,0,27,5],[71,0,28,3],[74,33,30,13],[75,0,31,4],[75,12,31,8],[75,17,31,13,"_frameCallback"],[75,31,31,4],[75,33,31,29],[76,0,32,6,"cancelAnimationFrame"],[76,10,32,6,"cancelAnimationFrame"],[76,30,32,26],[76,31,32,27],[76,36,32,32,"_frameCallback"],[76,50,32,26],[76,51,32,6],[77,0,33,6],[77,15,33,11,"_frameCallback"],[77,29,33,6],[77,32,33,28],[77,36,33,6],[78,0,34,5],[80,0,35,4],[81,0,36,3],[85,4,5,32,"AnimatedValue"],[85,27],[87,0,39,0],[87,6,39,6,"mainClock"],[87,15,39,15],[87,18,39,18],[87,22,39,22,"AnimatedMainClock"],[87,39,39,18],[87,41,39,0],[89,6,41,21,"AnimatedClock"],[89,19],[92,0,45,2],[92,29,45,16],[93,0,45,16],[95,0,45,16],[95,88,46,10],[96,0,46,12,"type"],[96,8,46,12,"type"],[96,12,46,16],[96,14,46,18],[97,0,46,10],[97,7,45,16],[98,0,47,3],[102,37,49,17],[103,0,50,4],[103,15,50,11],[103,31,50,15,"mainClock"],[103,40,50,11],[103,41,50,4],[104,0,51,3],[107,33,53,13],[108,0,54,4],[110,0,55,4],[110,12,55,8],[110,17,55,13,"_started"],[110,25,55,8],[110,29,55,25],[110,30,55,26],[110,35,55,31,"_attached"],[110,44,55,4],[110,46,55,42],[111,0,56,6,"mainClock"],[111,10,56,6,"mainClock"],[111,19,56,15],[111,20,56,16,"__addChild"],[111,30,56,6],[111,31,56,27],[111,35,56,6],[112,0,57,5],[114,0,58,4],[114,13,58,9,"_attached"],[114,22,58,4],[114,25,58,21],[114,29,58,4],[115,0,59,3],[118,33,61,13],[119,0,62,4],[119,12,62,8],[119,17,62,13,"_started"],[119,25,62,8],[119,29,62,25],[119,34,62,30,"_attached"],[119,43,62,4],[119,45,62,41],[120,0,63,6,"mainClock"],[120,10,63,6,"mainClock"],[120,19,63,15],[120,20,63,16,"__removeChild"],[120,33,63,6],[120,34,63,30],[120,38,63,6],[121,0,64,5],[123,0,65,4],[123,13,65,9,"_attached"],[123,22,65,4],[123,25,65,21],[123,30,65,4],[125,0,66,4],[126,0,67,3],[129,30,69,10],[130,0,70,4],[130,12,70,8],[130,13,70,9],[130,18,70,14,"_started"],[130,26,70,8],[130,30,70,26],[130,35,70,31,"_attached"],[130,44,70,4],[130,46,70,42],[131,0,71,6,"mainClock"],[131,10,71,6,"mainClock"],[131,19,71,15],[131,20,71,16,"__addChild"],[131,30,71,6],[131,31,71,27],[131,35,71,6],[132,0,72,5],[134,0,73,4],[134,13,73,9,"_started"],[134,21,73,4],[134,24,73,20],[134,28,73,4],[135,0,74,3],[138,29,76,9],[139,0,77,4],[139,12,77,8],[139,17,77,13,"_started"],[139,25,77,8],[139,29,77,25],[139,34,77,30,"_attached"],[139,43,77,4],[139,45,77,41],[140,0,78,6,"mainClock"],[140,10,78,6,"mainClock"],[140,19,78,15],[140,20,78,16,"__removeChild"],[140,33,78,6],[140,34,78,30],[140,38,78,6],[141,0,79,5],[143,0,80,4],[143,13,80,9,"_started"],[143,21,80,4],[143,24,80,20],[143,29,80,4],[144,0,81,3],[147,34,83,14],[148,0,84,4],[148,15,84,11],[148,20,84,16,"_started"],[148,28,84,4],[149,0,85,3],[153,4,41,43,"AnimatedNode"],[153,26],[156,0,88,0],[156,6,88,6,"clock"],[156,11,88,11],[156,14,88,14,"mainClock"],[156,23,88,0]]},"type":"js/module"}]}