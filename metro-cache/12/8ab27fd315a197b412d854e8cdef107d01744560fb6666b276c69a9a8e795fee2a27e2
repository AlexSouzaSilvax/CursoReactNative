{"dependencies":[{"name":"../EventEmitter/MissingNativeEventEmitterShim","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"../BatchedBridge/NativeModules","data":{"isAsync":false}},{"name":"../Utilities/logError","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  var MissingNativeEventEmitterShim = _$$_REQUIRE(_dependencyMap[0], \"../EventEmitter/MissingNativeEventEmitterShim\");\n\n  var NativeEventEmitter = _$$_REQUIRE(_dependencyMap[1], \"../EventEmitter/NativeEventEmitter\");\n\n  var NativeModules = _$$_REQUIRE(_dependencyMap[2], \"../BatchedBridge/NativeModules\");\n\n  var RCTAppState = NativeModules.AppState;\n\n  var logError = _$$_REQUIRE(_dependencyMap[3], \"../Utilities/logError\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[4], \"fbjs/lib/invariant\");\n\n  var AppState = function (_NativeEventEmitter) {\n    _inherits(AppState, _NativeEventEmitter);\n\n    function AppState() {\n      var _this;\n\n      _classCallCheck(this, AppState);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AppState).call(this, RCTAppState));\n      _this.isAvailable = true;\n      _this.isAvailable = true;\n      _this._eventHandlers = {\n        change: new Map(),\n        memoryWarning: new Map()\n      };\n      _this.currentState = RCTAppState.initialAppState || 'active';\n      var eventUpdated = false;\n\n      _this.addListener('appStateDidChange', function (appStateData) {\n        eventUpdated = true;\n        _this.currentState = appStateData.app_state;\n      });\n\n      RCTAppState.getCurrentAppState(function (appStateData) {\n        if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n          _this.currentState = appStateData.app_state;\n\n          _this.emit('appStateDidChange', appStateData);\n        }\n      }, logError);\n      return _this;\n    }\n\n    _createClass(AppState, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        invariant(['change', 'memoryWarning'].indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n\n        if (type === 'change') {\n          this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n            handler(appStateData.app_state);\n          }));\n        } else if (type === 'memoryWarning') {\n          this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n        }\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        invariant(['change', 'memoryWarning'].indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n\n        if (!this._eventHandlers[type].has(handler)) {\n          return;\n        }\n\n        this._eventHandlers[type].get(handler).remove();\n\n        this._eventHandlers[type].delete(handler);\n      }\n    }]);\n\n    return AppState;\n  }(NativeEventEmitter);\n\n  if (__DEV__ && !RCTAppState) {\n    var MissingNativeAppStateShim = function (_MissingNativeEventEm) {\n      _inherits(MissingNativeAppStateShim, _MissingNativeEventEm);\n\n      function MissingNativeAppStateShim() {\n        _classCallCheck(this, MissingNativeAppStateShim);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(MissingNativeAppStateShim).call(this, 'RCTAppState', 'AppState'));\n      }\n\n      _createClass(MissingNativeAppStateShim, [{\n        key: \"addEventListener\",\n        value: function addEventListener() {\n          this.throwMissingNativeModule();\n        }\n      }, {\n        key: \"removeEventListener\",\n        value: function removeEventListener() {\n          this.throwMissingNativeModule();\n        }\n      }, {\n        key: \"currentState\",\n        get: function get() {\n          this.throwMissingNativeModule();\n        }\n      }]);\n\n      return MissingNativeAppStateShim;\n    }(MissingNativeEventEmitterShim);\n\n    AppState = new MissingNativeAppStateShim();\n  } else {\n    AppState = new AppState();\n  }\n\n  module.exports = AppState;\n});","map":[[2,0,11,0],[20,0,13,0],[20,6,13,6,"MissingNativeEventEmitterShim"],[20,35,13,35],[20,38,13,38,"require"],[20,49,13,45],[20,117,13,0],[22,0,14,0],[22,6,14,6,"NativeEventEmitter"],[22,24,14,24],[22,27,14,27,"require"],[22,38,14,34],[22,95,14,0],[24,0,15,0],[24,6,15,6,"NativeModules"],[24,19,15,19],[24,22,15,22,"require"],[24,33,15,29],[24,86,15,0],[26,0,16,0],[26,6,16,6,"RCTAppState"],[26,17,16,17],[26,20,16,20,"NativeModules"],[26,33,16,33],[26,34,16,34,"AppState"],[26,42,16,0],[28,0,18,0],[28,6,18,6,"logError"],[28,14,18,14],[28,17,18,17,"require"],[28,28,18,24],[28,72,18,0],[30,0,19,0],[30,6,19,6,"invariant"],[30,15,19,15],[30,18,19,18,"require"],[30,29,19,25],[30,70,19,0],[32,6,27,6,"AppState"],[32,14],[35,0,32,2],[35,24,32,16],[36,0,32,16],[38,0,32,16],[40,0,33,4],[40,84,33,10,"RCTAppState"],[40,95,33,4],[41,0,32,16],[41,12,30,2,"isAvailable"],[41,23,32,16],[41,26,30,25],[41,30,32,16],[42,0,35,4],[42,12,35,9,"isAvailable"],[42,23,35,4],[42,26,35,23],[42,30,35,4],[43,0,36,4],[43,12,36,9,"_eventHandlers"],[43,26,36,4],[43,29,36,26],[44,0,37,6,"change"],[44,8,37,6,"change"],[44,14,37,12],[44,16,37,14],[44,20,37,18,"Map"],[44,23,37,14],[44,25,36,26],[45,0,38,6,"memoryWarning"],[45,8,38,6,"memoryWarning"],[45,21,38,19],[45,23,38,21],[45,27,38,25,"Map"],[45,30,38,21],[46,0,36,26],[46,7,36,4],[47,0,43,4],[47,12,43,9,"currentState"],[47,24,43,4],[47,27,43,24,"RCTAppState"],[47,38,43,35],[47,39,43,36,"initialAppState"],[47,54,43,24],[47,58,43,55],[47,66,43,4],[48,0,45,4],[48,10,45,8,"eventUpdated"],[48,22,45,20],[48,25,45,23],[48,30,45,4],[50,0,51,4],[50,12,51,9,"addListener"],[50,23,51,4],[50,24,51,21],[50,43,51,4],[50,45,51,42],[50,55,51,42,"appStateData"],[50,67,51,54],[50,69,51,58],[51,0,52,6,"eventUpdated"],[51,8,52,6,"eventUpdated"],[51,20,52,18],[51,23,52,21],[51,27,52,6],[52,0,53,6],[52,14,53,11,"currentState"],[52,26,53,6],[52,29,53,26,"appStateData"],[52,41,53,38],[52,42,53,39,"app_state"],[52,51,53,6],[53,0,54,5],[53,7,51,4],[55,0,59,4,"RCTAppState"],[55,6,59,4,"RCTAppState"],[55,17,59,15],[55,18,59,16,"getCurrentAppState"],[55,36,59,4],[55,37,59,35],[55,47,59,35,"appStateData"],[55,59,59,47],[55,61,59,51],[56,0,61,6],[56,12,61,10],[56,13,61,11,"eventUpdated"],[56,25,61,10],[56,29,61,27],[56,35,61,32,"currentState"],[56,47,61,27],[56,52,61,49,"appStateData"],[56,64,61,61],[56,65,61,62,"app_state"],[56,74,61,6],[56,76,61,73],[57,0,62,8],[57,16,62,13,"currentState"],[57,28,62,8],[57,31,62,28,"appStateData"],[57,43,62,40],[57,44,62,41,"app_state"],[57,53,62,8],[59,0,63,8],[59,16,63,13,"emit"],[59,20,63,8],[59,21,63,18],[59,40,63,8],[59,42,63,39,"appStateData"],[59,54,63,8],[60,0,64,7],[61,0,65,5],[61,7,59,4],[61,9,65,7,"logError"],[61,17,59,4],[62,0,32,16],[63,0,66,3],[67,39,79,19,"type"],[67,43],[67,45,79,33,"handler"],[67,52],[67,54,79,52],[68,0,80,4,"invariant"],[68,8,80,4,"invariant"],[68,17,80,13],[68,18,81,6],[68,19,81,7],[68,27,81,6],[68,29,81,17],[68,44,81,6],[68,46,81,34,"indexOf"],[68,53,81,6],[68,54,81,42,"type"],[68,58,81,6],[68,64,81,52],[68,65,81,53],[68,66,80,13],[68,68,82,6],[68,112,80,13],[68,114,83,6,"type"],[68,118,80,13],[68,119,80,4],[70,0,85,4],[70,12,85,8,"type"],[70,16,85,12],[70,21,85,17],[70,29,85,4],[70,31,85,27],[71,0,86,6],[71,15,86,11,"_eventHandlers"],[71,29,86,6],[71,30,86,26,"type"],[71,34,86,6],[71,36,86,32,"set"],[71,39,86,6],[71,40,87,8,"handler"],[71,47,86,6],[71,49,88,8],[71,54,88,13,"addListener"],[71,65,88,8],[71,66,88,25],[71,85,88,8],[71,87,88,46],[71,97,88,46,"appStateData"],[71,109,88,58],[71,111,88,62],[72,0,89,10,"handler"],[72,12,89,10,"handler"],[72,19,89,17],[72,20,89,18,"appStateData"],[72,32,89,30],[72,33,89,31,"app_state"],[72,42,89,17],[72,43,89,10],[73,0,90,9],[73,11,88,8],[73,12,86,6],[74,0,92,5],[74,9,85,4],[74,15,92,11],[74,19,92,15,"type"],[74,23,92,19],[74,28,92,24],[74,43,92,11],[74,45,92,41],[75,0,93,6],[75,15,93,11,"_eventHandlers"],[75,29,93,6],[75,30,93,26,"type"],[75,34,93,6],[75,36,93,32,"set"],[75,39,93,6],[75,40,94,8,"handler"],[75,47,93,6],[75,49,95,8],[75,54,95,13,"addListener"],[75,65,95,8],[75,66,95,25],[75,81,95,8],[75,83,95,42,"handler"],[75,90,95,8],[75,91,93,6],[76,0,97,5],[77,0,98,3],[80,42,105,22,"type"],[80,46],[80,48,105,36,"handler"],[80,55],[80,57,105,55],[81,0,106,4,"invariant"],[81,8,106,4,"invariant"],[81,17,106,13],[81,18,107,6],[81,19,107,7],[81,27,107,6],[81,29,107,17],[81,44,107,6],[81,46,107,34,"indexOf"],[81,53,107,6],[81,54,107,42,"type"],[81,58,107,6],[81,64,107,52],[81,65,107,53],[81,66,106,13],[81,68,108,6],[81,119,106,13],[81,121,109,6,"type"],[81,125,106,13],[81,126,106,4],[83,0,111,4],[83,12,111,8],[83,13,111,9],[83,18,111,14,"_eventHandlers"],[83,32,111,9],[83,33,111,29,"type"],[83,37,111,9],[83,39,111,35,"has"],[83,42,111,9],[83,43,111,39,"handler"],[83,50,111,9],[83,51,111,4],[83,53,111,49],[84,0,112,6],[85,0,113,5],[87,0,114,4],[87,13,114,9,"_eventHandlers"],[87,27,114,4],[87,28,114,24,"type"],[87,32,114,4],[87,34,114,30,"get"],[87,37,114,4],[87,38,114,34,"handler"],[87,45,114,4],[87,47,114,43,"remove"],[87,53,114,4],[89,0,115,4],[89,13,115,9,"_eventHandlers"],[89,27,115,4],[89,28,115,24,"type"],[89,32,115,4],[89,34,115,30,"delete"],[89,40,115,4],[89,41,115,37,"handler"],[89,48,115,4],[90,0,116,3],[94,4,27,23,"NativeEventEmitter"],[94,22],[96,0,119,0],[96,6,119,4,"__DEV__"],[96,13,119,11],[96,17,119,15],[96,18,119,16,"RCTAppState"],[96,29,119,0],[96,31,119,29],[97,0,119,29],[97,8,120,8,"MissingNativeAppStateShim"],[97,33,119,29],[98,0,119,29],[100,0,121,4],[100,43,121,18],[101,0,121,18],[103,0,121,18],[103,102,122,12],[103,115,121,18],[103,117,122,27],[103,127,121,18],[104,0,123,5],[106,0,119,29],[107,0,119,29],[108,0,119,29],[108,43,129,42],[109,0,130,6],[109,15,130,11,"throwMissingNativeModule"],[109,39,130,6],[110,0,131,5],[111,0,119,29],[112,0,119,29],[113,0,119,29],[113,46,133,45],[114,0,134,6],[114,15,134,11,"throwMissingNativeModule"],[114,39,134,6],[115,0,135,5],[116,0,119,29],[117,0,119,29],[118,0,119,29],[118,28,125,32],[119,0,126,6],[119,15,126,11,"throwMissingNativeModule"],[119,39,126,6],[120,0,127,5],[121,0,119,29],[123,0,119,29],[124,0,119,29],[124,6,120,42,"MissingNativeEventEmitterShim"],[124,35,119,29],[126,0,142,2,"AppState"],[126,4,142,2,"AppState"],[126,12,142,10],[126,15,142,13],[126,19,142,17,"MissingNativeAppStateShim"],[126,44,142,13],[126,46,142,2],[127,0,143,1],[127,3,119,0],[127,9,143,7],[128,0,144,2,"AppState"],[128,4,144,2,"AppState"],[128,12,144,10],[128,15,144,13],[128,19,144,17,"AppState"],[128,27,144,13],[128,29,144,2],[129,0,145,1],[131,0,147,0,"module"],[131,2,147,0,"module"],[131,8,147,6],[131,9,147,7,"exports"],[131,16,147,0],[131,19,147,17,"AppState"],[131,27,147,0]]},"type":"js/module"}]}