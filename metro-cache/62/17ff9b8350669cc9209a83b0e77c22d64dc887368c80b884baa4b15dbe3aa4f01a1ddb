{"dependencies":[{"name":"./Animation","data":{"isAsync":false}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  var Animation = _$$_REQUIRE(_dependencyMap[0], \"./Animation\");\n\n  var _require = _$$_REQUIRE(_dependencyMap[1], \"../NativeAnimatedHelper\"),\n      shouldUseNativeDriver = _require.shouldUseNativeDriver;\n\n  var DecayAnimation = function (_Animation) {\n    _inherits(DecayAnimation, _Animation);\n\n    function DecayAnimation(config) {\n      var _this;\n\n      _classCallCheck(this, DecayAnimation);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DecayAnimation).call(this));\n      _this._deceleration = config.deceleration !== undefined ? config.deceleration : 0.998;\n      _this._velocity = config.velocity;\n      _this._useNativeDriver = shouldUseNativeDriver(config);\n      _this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n      _this.__iterations = config.iterations !== undefined ? config.iterations : 1;\n      return _this;\n    }\n\n    _createClass(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        this.__active = true;\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n        this._startTime = Date.now();\n\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n        this._onUpdate(value);\n\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._lastValue = value;\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _get(_getPrototypeOf(DecayAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    return DecayAnimation;\n  }(Animation);\n\n  module.exports = DecayAnimation;\n});","map":[[2,0,10,0],[24,0,12,0],[24,6,12,6,"Animation"],[24,15,12,15],[24,18,12,18,"require"],[24,29,12,25],[24,63,12,0],[26,17,14,32,"require"],[26,28,14,39],[26,74],[27,6,14,7,"shouldUseNativeDriver"],[27,27],[27,39,14,7,"shouldUseNativeDriver"],[27,60],[29,6,29,6,"DecayAnimation"],[29,20],[32,0,39,2],[32,28,39,14,"config"],[32,34,39,2],[32,36,39,50],[33,0,39,50],[35,0,39,50],[37,0,40,4],[38,0,41,4],[38,12,41,9,"_deceleration"],[38,25,41,4],[38,28,42,6,"config"],[38,34,42,12],[38,35,42,13,"deceleration"],[38,47,42,6],[38,52,42,30,"undefined"],[38,61,42,6],[38,64,42,42,"config"],[38,70,42,48],[38,71,42,49,"deceleration"],[38,83,42,6],[38,86,42,64],[38,91,41,4],[39,0,43,4],[39,12,43,9,"_velocity"],[39,21,43,4],[39,24,43,21,"config"],[39,30,43,27],[39,31,43,28,"velocity"],[39,39,43,4],[40,0,44,4],[40,12,44,9,"_useNativeDriver"],[40,28,44,4],[40,31,44,28,"shouldUseNativeDriver"],[40,52,44,49],[40,53,44,50,"config"],[40,59,44,49],[40,60,44,4],[41,0,45,4],[41,12,45,9,"__isInteraction"],[41,27,45,4],[41,30,46,6,"config"],[41,36,46,12],[41,37,46,13,"isInteraction"],[41,50,46,6],[41,55,46,31,"undefined"],[41,64,46,6],[41,67,46,43,"config"],[41,73,46,49],[41,74,46,50,"isInteraction"],[41,87,46,6],[41,90,46,66],[41,94,45,4],[42,0,47,4],[42,12,47,9,"__iterations"],[42,24,47,4],[42,27,47,24,"config"],[42,33,47,30],[42,34,47,31,"iterations"],[42,44,47,24],[42,49,47,46,"undefined"],[42,58,47,24],[42,61,47,58,"config"],[42,67,47,64],[42,68,47,65,"iterations"],[42,78,47,24],[42,81,47,78],[42,82,47,4],[43,0,39,50],[44,0,48,3],[48,51,50,31],[49,0,51,4],[49,15,51,11],[50,0,52,6,"type"],[50,10,52,6,"type"],[50,14,52,10],[50,16,52,12],[50,23,51,11],[51,0,53,6,"deceleration"],[51,10,53,6,"deceleration"],[51,22,53,18],[51,24,53,20],[51,29,53,25,"_deceleration"],[51,42,51,11],[52,0,54,6,"velocity"],[52,10,54,6,"velocity"],[52,18,54,14],[52,20,54,16],[52,25,54,21,"_velocity"],[52,34,51,11],[53,0,55,6,"iterations"],[53,10,55,6,"iterations"],[53,20,55,16],[53,22,55,18],[53,27,55,23,"__iterations"],[54,0,51,11],[54,9,51,4],[55,0,57,3],[58,28,60,4,"fromValue"],[58,37],[58,39,61,4,"onUpdate"],[58,47],[58,49,62,4,"onEnd"],[58,54],[58,56,63,4,"previousAnimation"],[58,73],[58,75,64,4,"animatedValue"],[58,88],[58,90,65,10],[59,0,66,4],[59,13,66,9,"__active"],[59,21,66,4],[59,24,66,20],[59,28,66,4],[60,0,67,4],[60,13,67,9,"_lastValue"],[60,23,67,4],[60,26,67,22,"fromValue"],[60,35,67,4],[61,0,68,4],[61,13,68,9,"_fromValue"],[61,23,68,4],[61,26,68,22,"fromValue"],[61,35,68,4],[62,0,69,4],[62,13,69,9,"_onUpdate"],[62,22,69,4],[62,25,69,21,"onUpdate"],[62,33,69,4],[63,0,70,4],[63,13,70,9,"__onEnd"],[63,20,70,4],[63,23,70,19,"onEnd"],[63,28,70,4],[64,0,71,4],[64,13,71,9,"_startTime"],[64,23,71,4],[64,26,71,22,"Date"],[64,30,71,26],[64,31,71,27,"now"],[64,34,71,22],[64,36,71,4],[66,0,72,4],[66,12,72,8],[66,17,72,13,"_useNativeDriver"],[66,33,72,4],[66,35,72,31],[67,0,73,6],[67,15,73,11,"__startNativeAnimation"],[67,37,73,6],[67,38,73,34,"animatedValue"],[67,51,73,6],[68,0,74,5],[68,9,72,4],[68,15,74,11],[69,0,75,6],[69,15,75,11,"_animationFrame"],[69,30,75,6],[69,33,75,29,"requestAnimationFrame"],[69,54,75,50],[69,55,75,51],[69,60,75,56,"onUpdate"],[69,68,75,51],[69,69,75,65,"bind"],[69,73,75,51],[69,74,75,70],[69,78,75,51],[69,79,75,50],[69,80,75,6],[70,0,76,5],[71,0,77,3],[74,33,79,19],[75,0,80,4],[75,12,80,10,"now"],[75,15,80,13],[75,18,80,16,"Date"],[75,22,80,20],[75,23,80,21,"now"],[75,26,80,16],[75,28,80,4],[76,0,82,4],[76,12,82,10,"value"],[76,17,82,15],[76,20,83,6],[76,25,83,11,"_fromValue"],[76,35,83,6],[76,38,84,7],[76,43,84,12,"_velocity"],[76,52,84,7],[76,56,84,25],[76,60,84,29],[76,65,84,34,"_deceleration"],[76,78,84,7],[76,79,84,6],[76,83,85,9],[76,87,85,13,"Math"],[76,91,85,17],[76,92,85,18,"exp"],[76,95,85,13],[76,96,85,22],[76,98,85,24],[76,102,85,28],[76,107,85,33,"_deceleration"],[76,120,85,22],[76,125,85,51,"now"],[76,128,85,54],[76,131,85,57],[76,136,85,62,"_startTime"],[76,146,85,22],[76,147,85,13],[76,148,84,6],[76,149,82,4],[78,0,87,4],[78,13,87,9,"_onUpdate"],[78,22,87,4],[78,23,87,19,"value"],[78,28,87,4],[80,0,89,4],[80,12,89,8,"Math"],[80,16,89,12],[80,17,89,13,"abs"],[80,20,89,8],[80,21,89,17],[80,26,89,22,"_lastValue"],[80,36,89,17],[80,39,89,35,"value"],[80,44,89,8],[80,48,89,44],[80,51,89,4],[80,53,89,49],[81,0,90,6],[81,15,90,11,"__debouncedOnEnd"],[81,31,90,6],[81,32,90,28],[82,0,90,29,"finished"],[82,12,90,29,"finished"],[82,20,90,37],[82,22,90,39],[83,0,90,28],[83,11,90,6],[85,0,91,6],[86,0,92,5],[88,0,94,4],[88,13,94,9,"_lastValue"],[88,23,94,4],[88,26,94,22,"value"],[88,31,94,4],[90,0,95,4],[90,12,95,8],[90,17,95,13,"__active"],[90,25,95,4],[90,27,95,23],[91,0,96,6],[91,15,96,11,"_animationFrame"],[91,30,96,6],[91,33,96,29,"requestAnimationFrame"],[91,54,96,50],[91,55,96,51],[91,60,96,56,"onUpdate"],[91,68,96,51],[91,69,96,65,"bind"],[91,73,96,51],[91,74,96,70],[91,78,96,51],[91,79,96,50],[91,80,96,6],[92,0,97,5],[93,0,98,3],[96,29,100,15],[97,0,101,4],[99,0,102,4],[99,13,102,9,"__active"],[99,21,102,4],[99,24,102,20],[99,29,102,4],[100,0,103,4,"global"],[100,8,103,4,"global"],[100,14,103,10],[100,15,103,11,"cancelAnimationFrame"],[100,35,103,4],[100,36,103,32],[100,41,103,37,"_animationFrame"],[100,56,103,4],[102,0,104,4],[102,13,104,9,"__debouncedOnEnd"],[102,29,104,4],[102,30,104,26],[103,0,104,27,"finished"],[103,10,104,27,"finished"],[103,18,104,35],[103,20,104,37],[104,0,104,26],[104,9,104,4],[105,0,105,3],[109,4,29,29,"Animation"],[109,13],[111,0,108,0,"module"],[111,2,108,0,"module"],[111,8,108,6],[111,9,108,7,"exports"],[111,16,108,0],[111,19,108,17,"DecayAnimation"],[111,33,108,0]]},"type":"js/module"}]}