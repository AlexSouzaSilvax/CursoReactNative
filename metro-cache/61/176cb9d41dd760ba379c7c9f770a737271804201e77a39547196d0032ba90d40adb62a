{"dependencies":[{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[0], \"react-native\");\n\n  var ExponentWebBrowser = _reactNative.NativeModules.ExponentWebBrowser;\n\n  function openBrowserAsync(url) {\n    return regeneratorRuntime.async(function openBrowserAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", ExponentWebBrowser.openBrowserAsync(url));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissBrowser() {\n    ExponentWebBrowser.dismissBrowser();\n  }\n\n  function openAuthSessionAsync(url, redirectUrl) {\n    return regeneratorRuntime.async(function openAuthSessionAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!_authSessionIsNativelySupported()) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", ExponentWebBrowser.openAuthSessionAsync(url, redirectUrl));\n\n          case 4:\n            return _context2.abrupt(\"return\", _openAuthSessionPolyfillAsync(url, redirectUrl));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissAuthSession() {\n    if (_authSessionIsNativelySupported()) {\n      ExponentWebBrowser.dismissAuthSession();\n    } else {\n      ExponentWebBrowser.dismissBrowser();\n    }\n  }\n\n  function _authSessionIsNativelySupported() {\n    if (_reactNative.Platform.OS === 'android') {\n      return false;\n    }\n\n    var versionNumber = parseInt(String(_reactNative.Platform.Version), 10);\n    return versionNumber >= 11;\n  }\n\n  var _redirectHandler = null;\n\n  function _openAuthSessionPolyfillAsync(startUrl, returnUrl) {\n    return regeneratorRuntime.async(function _openAuthSessionPolyfillAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!_redirectHandler) {\n              _context3.next = 2;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser's auth session is in an invalid state with a redirect handler set when it should not be\");\n\n          case 2:\n            _context3.prev = 2;\n            _context3.next = 5;\n            return regeneratorRuntime.awrap(Promise.race([openBrowserAsync(startUrl), _waitForRedirectAsync(returnUrl)]));\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n            _context3.prev = 6;\n            dismissBrowser();\n\n            if (_redirectHandler) {\n              _context3.next = 10;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser auth session is in an invalid state with no redirect handler when one should be set\");\n\n          case 10:\n            _reactNative.Linking.removeEventListener('url', _redirectHandler);\n\n            _redirectHandler = null;\n            return _context3.finish(6);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, this, [[2,, 6, 13]]);\n  }\n\n  function _waitForRedirectAsync(returnUrl) {\n    return new Promise(function (resolve) {\n      _redirectHandler = function _redirectHandler(event) {\n        if (event.url.startsWith(returnUrl)) {\n          resolve({\n            url: event.url,\n            type: 'success'\n          });\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', _redirectHandler);\n    });\n  }\n\n  var _default = {\n    openBrowserAsync: openBrowserAsync,\n    openAuthSessionAsync: openAuthSessionAsync,\n    dismissBrowser: dismissBrowser,\n    dismissAuthSession: dismissAuthSession\n  };\n  exports.default = _default;\n});","map":[[7,0,1,0],[9,6,2,8,"ExponentWebBrowser"],[9,24],[9,27,2,31,"NativeModules"],[9,53],[9,54,2,8,"ExponentWebBrowser"],[9,72],[11,0,3,0],[11,11,3,15,"openBrowserAsync"],[11,27,3,0],[11,28,3,32,"url"],[11,31,3,0],[12,0,3,0],[13,0,3,0],[14,0,3,0],[15,0,3,0],[16,0,3,0],[16,45,4,11,"ExponentWebBrowser"],[16,63,4,29],[16,64,4,30,"openBrowserAsync"],[16,80,4,11],[16,81,4,47,"url"],[16,84,4,11],[16,85,3,0],[18,0,3,0],[19,0,3,0],[20,0,3,0],[21,0,3,0],[22,0,3,0],[23,0,3,0],[24,0,3,0],[26,0,6,0],[26,11,6,9,"dismissBrowser"],[26,25,6,0],[26,28,6,26],[27,0,7,4,"ExponentWebBrowser"],[27,4,7,4,"ExponentWebBrowser"],[27,22,7,22],[27,23,7,23,"dismissBrowser"],[27,37,7,4],[28,0,8,1],[30,0,9,0],[30,11,9,15,"openAuthSessionAsync"],[30,31,9,0],[30,32,9,36,"url"],[30,35,9,0],[30,37,9,41,"redirectUrl"],[30,48,9,0],[31,0,9,0],[32,0,9,0],[33,0,9,0],[34,0,9,0],[35,0,9,0],[35,17,10,8,"_authSessionIsNativelySupported"],[35,48,10,39],[35,50,9,0],[36,0,9,0],[37,0,9,0],[38,0,9,0],[40,0,9,0],[40,46,11,15,"ExponentWebBrowser"],[40,64,11,33],[40,65,11,34,"openAuthSessionAsync"],[40,85,11,15],[40,86,11,55,"url"],[40,89,11,15],[40,91,11,60,"redirectUrl"],[40,102,11,15],[40,103,9,0],[42,0,9,0],[43,0,9,0],[43,46,14,15,"_openAuthSessionPolyfillAsync"],[43,75,14,44],[43,76,14,45,"url"],[43,79,14,44],[43,81,14,50,"redirectUrl"],[43,92,14,44],[43,93,9,0],[45,0,9,0],[46,0,9,0],[47,0,9,0],[48,0,9,0],[49,0,9,0],[50,0,9,0],[51,0,9,0],[53,0,17,0],[53,11,17,9,"dismissAuthSession"],[53,29,17,0],[53,32,17,30],[54,0,18,4],[54,8,18,8,"_authSessionIsNativelySupported"],[54,39,18,39],[54,41,18,4],[54,43,18,43],[55,0,19,8,"ExponentWebBrowser"],[55,6,19,8,"ExponentWebBrowser"],[55,24,19,26],[55,25,19,27,"dismissAuthSession"],[55,43,19,8],[56,0,20,5],[56,5,18,4],[56,11,21,9],[57,0,22,8,"ExponentWebBrowser"],[57,6,22,8,"ExponentWebBrowser"],[57,24,22,26],[57,25,22,27,"dismissBrowser"],[57,39,22,8],[58,0,23,5],[59,0,24,1],[61,0,26,0],[61,11,26,9,"_authSessionIsNativelySupported"],[61,42,26,0],[61,45,26,43],[62,0,27,4],[62,8,27,8,"Platform"],[62,30,27,17,"OS"],[62,32,27,8],[62,37,27,24],[62,46,27,4],[62,48,27,35],[63,0,28,8],[63,13,28,15],[63,18,28,8],[64,0,29,5],[66,0,30,4],[66,8,30,10,"versionNumber"],[66,21,30,23],[66,24,30,26,"parseInt"],[66,32,30,34],[66,33,30,35,"String"],[66,39,30,41],[66,40,30,42,"Platform"],[66,62,30,51,"Version"],[66,69,30,41],[66,70,30,34],[66,72,30,61],[66,74,30,34],[66,75,30,4],[67,0,31,4],[67,11,31,11,"versionNumber"],[67,24,31,24],[67,28,31,28],[67,30,31,4],[68,0,32,1],[70,0,33,0],[70,6,33,4,"_redirectHandler"],[70,22,33,20],[70,25,33,23],[70,29,33,0],[72,0,34,0],[72,11,34,15,"_openAuthSessionPolyfillAsync"],[72,40,34,0],[72,41,34,45,"startUrl"],[72,49,34,0],[72,51,34,55,"returnUrl"],[72,60,34,0],[73,0,34,0],[74,0,34,0],[75,0,34,0],[76,0,34,0],[77,0,34,0],[77,17,35,8,"_redirectHandler"],[77,33,34,0],[78,0,34,0],[79,0,34,0],[80,0,34,0],[82,0,34,0],[82,18,36,14],[82,22,36,18,"Error"],[82,27,36,14],[82,133,34,0],[84,0,34,0],[85,0,34,0],[86,0,34,0],[87,0,34,0],[87,44,39,21,"Promise"],[87,51,39,28],[87,52,39,29,"race"],[87,56,39,21],[87,57,39,34],[87,58,39,35,"openBrowserAsync"],[87,74,39,51],[87,75,39,52,"startUrl"],[87,83,39,51],[87,84,39,34],[87,86,39,63,"_waitForRedirectAsync"],[87,107,39,84],[87,108,39,85,"returnUrl"],[87,117,39,84],[87,118,39,34],[87,119,39,21],[87,120,34,0],[89,0,34,0],[90,0,34,0],[92,0,34,0],[93,0,34,0],[94,0,42,8,"dismissBrowser"],[94,12,42,8,"dismissBrowser"],[94,26,42,22],[96,0,34,0],[96,16,43,13,"_redirectHandler"],[96,32,34,0],[97,0,34,0],[98,0,34,0],[99,0,34,0],[101,0,34,0],[101,18,44,18],[101,22,44,22,"Error"],[101,27,44,18],[101,129,34,0],[103,0,34,0],[104,0,46,8,"Linking"],[104,33,46,16,"removeEventListener"],[104,52,46,8],[104,53,46,36],[104,58,46,8],[104,60,46,43,"_redirectHandler"],[104,76,46,8],[106,0,47,8,"_redirectHandler"],[106,12,47,8,"_redirectHandler"],[106,28,47,24],[106,31,47,27],[106,35,47,8],[107,0,34,0],[109,0,34,0],[110,0,34,0],[111,0,34,0],[112,0,34,0],[113,0,34,0],[114,0,34,0],[115,0,34,0],[117,0,50,0],[117,11,50,9,"_waitForRedirectAsync"],[117,32,50,0],[117,33,50,31,"returnUrl"],[117,42,50,0],[117,44,50,42],[118,0,51,4],[118,11,51,11],[118,15,51,15,"Promise"],[118,22,51,11],[118,23,51,23],[118,33,51,23,"resolve"],[118,40,51,30],[118,42,51,34],[119,0,52,8,"_redirectHandler"],[119,6,52,8,"_redirectHandler"],[119,22,52,24],[119,25,52,27],[119,51,52,28,"event"],[119,56,52,27],[119,58,52,38],[120,0,53,12],[120,12,53,16,"event"],[120,17,53,21],[120,18,53,22,"url"],[120,21,53,16],[120,22,53,26,"startsWith"],[120,32,53,16],[120,33,53,37,"returnUrl"],[120,42,53,16],[120,43,53,12],[120,45,53,49],[121,0,54,16,"resolve"],[121,10,54,16,"resolve"],[121,17,54,23],[121,18,54,24],[122,0,54,26,"url"],[122,12,54,26,"url"],[122,15,54,29],[122,17,54,31,"event"],[122,22,54,36],[122,23,54,37,"url"],[122,26,54,24],[123,0,54,42,"type"],[123,12,54,42,"type"],[123,16,54,46],[123,18,54,48],[124,0,54,24],[124,11,54,23],[124,12,54,16],[125,0,55,13],[126,0,56,9],[126,7,52,8],[128,0,57,8,"Linking"],[128,27,57,16,"addEventListener"],[128,43,57,8],[128,44,57,33],[128,49,57,8],[128,51,57,40,"_redirectHandler"],[128,67,57,8],[129,0,58,5],[129,5,51,11],[129,6,51,4],[130,0,59,1],[132,17,60,15],[133,0,61,4,"openBrowserAsync"],[133,4,61,4,"openBrowserAsync"],[133,20,61,20],[133,22,61,4,"openBrowserAsync"],[133,38,60,15],[134,0,62,4,"openAuthSessionAsync"],[134,4,62,4,"openAuthSessionAsync"],[134,24,62,24],[134,26,62,4,"openAuthSessionAsync"],[134,46,60,15],[135,0,63,4,"dismissBrowser"],[135,4,63,4,"dismissBrowser"],[135,18,63,18],[135,20,63,4,"dismissBrowser"],[135,34,60,15],[136,0,64,4,"dismissAuthSession"],[136,4,64,4,"dismissAuthSession"],[136,22,64,22],[136,24,64,4,"dismissAuthSession"],[137,0,60,15],[137,3]]},"type":"js/module"}]}