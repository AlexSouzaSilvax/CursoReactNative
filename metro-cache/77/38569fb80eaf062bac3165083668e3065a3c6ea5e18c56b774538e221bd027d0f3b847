{"dependencies":[{"name":"../ReanimatedModule","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _ReanimatedModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"../ReanimatedModule\"));\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  var UPDATED_NODES = [];\n  var loopID = 1;\n  var propUpdatesEnqueued = null;\n\n  function sanitizeConfig(config) {\n    for (var key in config) {\n      var value = config[key];\n\n      if (value instanceof AnimatedNode) {\n        config[key] = value.__nodeID;\n      }\n    }\n\n    return config;\n  }\n\n  function runPropUpdates() {\n    var visitedNodes = new Set();\n\n    var findAndUpdateNodes = function findAndUpdateNodes(node) {\n      if (visitedNodes.has(node)) {\n        return;\n      } else {\n        visitedNodes.add(node);\n      }\n\n      if (typeof node.update === 'function') {\n        node.update();\n      } else {\n        node.__getChildren().forEach(findAndUpdateNodes);\n      }\n    };\n\n    for (var i = 0; i < UPDATED_NODES.length; i++) {\n      var node = UPDATED_NODES[i];\n      findAndUpdateNodes(node);\n    }\n\n    UPDATED_NODES.length = 0;\n    propUpdatesEnqueued = null;\n    loopID += 1;\n  }\n\n  var nodeCount = 0;\n\n  var AnimatedNode = function () {\n    function AnimatedNode(nodeConfig, inputNodes) {\n      _classCallCheck(this, AnimatedNode);\n\n      this.__lastLoopID = 0;\n      this.__memoizedValue = null;\n      this.__children = [];\n      this.__nodeID = ++nodeCount;\n      this.__nodeConfig = sanitizeConfig(nodeConfig);\n      this.__initialized = false;\n      this.__inputNodes = inputNodes && inputNodes.filter(function (node) {\n        return node instanceof AnimatedNode;\n      });\n    }\n\n    _createClass(AnimatedNode, [{\n      key: \"__attach\",\n      value: function __attach() {\n        var _this = this;\n\n        this.__nativeInitialize();\n\n        this.__inputNodes && this.__inputNodes.forEach(function (node) {\n          return node.__addChild(_this);\n        });\n      }\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        var _this2 = this;\n\n        this.__inputNodes && this.__inputNodes.forEach(function (node) {\n          return node.__removeChild(_this2);\n        });\n\n        this.__nativeTearDown();\n      }\n    }, {\n      key: \"__getValue\",\n      value: function __getValue() {\n        if (this.__lastLoopID < loopID) {\n          this.__lastLoopID = loopID;\n          return this.__memoizedValue = this.__onEvaluate();\n        }\n\n        return this.__memoizedValue;\n      }\n    }, {\n      key: \"__forceUpdateCache\",\n      value: function __forceUpdateCache(newValue) {\n        this.__memoizedValue = newValue;\n\n        this.__markUpdated();\n      }\n    }, {\n      key: \"__dangerouslyRescheduleEvaluate\",\n      value: function __dangerouslyRescheduleEvaluate() {\n        this.__lastLoopID = 0;\n\n        this.__markUpdated();\n      }\n    }, {\n      key: \"__markUpdated\",\n      value: function __markUpdated() {\n        UPDATED_NODES.push(this);\n\n        if (!propUpdatesEnqueued) {\n          propUpdatesEnqueued = setImmediate(runPropUpdates);\n        }\n      }\n    }, {\n      key: \"__nativeInitialize\",\n      value: function __nativeInitialize() {\n        if (!this.__initialized) {\n          _ReanimatedModule.default.createNode(this.__nodeID, _objectSpread({}, this.__nodeConfig));\n\n          this.__initialized = true;\n        }\n      }\n    }, {\n      key: \"__nativeTearDown\",\n      value: function __nativeTearDown() {\n        if (this.__initialized) {\n          _ReanimatedModule.default.dropNode(this.__nodeID);\n\n          this.__initialized = false;\n        }\n      }\n    }, {\n      key: \"isNativelyInitialized\",\n      value: function isNativelyInitialized() {\n        return this.__initialized;\n      }\n    }, {\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        throw new Error('Missing implementation of onEvaluate');\n      }\n    }, {\n      key: \"__getProps\",\n      value: function __getProps() {\n        return this.__getValue();\n      }\n    }, {\n      key: \"__getChildren\",\n      value: function __getChildren() {\n        return this.__children;\n      }\n    }, {\n      key: \"__addChild\",\n      value: function __addChild(child) {\n        if (this.__children.length === 0) {\n          this.__attach();\n        }\n\n        this.__children.push(child);\n\n        child.__nativeInitialize();\n\n        _ReanimatedModule.default.connectNodes(this.__nodeID, child.__nodeID);\n      }\n    }, {\n      key: \"__removeChild\",\n      value: function __removeChild(child) {\n        var index = this.__children.indexOf(child);\n\n        if (index === -1) {\n          console.warn(\"Trying to remove a child that doesn't exist\");\n          return;\n        }\n\n        _ReanimatedModule.default.disconnectNodes(this.__nodeID, child.__nodeID);\n\n        this.__children.splice(index, 1);\n\n        if (this.__children.length === 0) {\n          this.__detach();\n        }\n      }\n    }, {\n      key: \"_connectAnimatedView\",\n      value: function _connectAnimatedView(nativeViewTag) {\n        _ReanimatedModule.default.connectNodeToView(this.__nodeID, nativeViewTag);\n      }\n    }, {\n      key: \"_disconnectAnimatedView\",\n      value: function _disconnectAnimatedView(nativeViewTag) {\n        _ReanimatedModule.default.disconnectNodeFromView(this.__nodeID, nativeViewTag);\n      }\n    }]);\n\n    return AnimatedNode;\n  }();\n\n  exports.default = AnimatedNode;\n});","map":[[7,0,1,0],[21,0,3,0],[21,6,3,6,"UPDATED_NODES"],[21,19,3,19],[21,22,3,22],[21,24,3,0],[22,0,5,0],[22,6,5,4,"loopID"],[22,12,5,10],[22,15,5,13],[22,16,5,0],[23,0,6,0],[23,6,6,4,"propUpdatesEnqueued"],[23,25,6,23],[23,28,6,26],[23,32,6,0],[25,0,8,0],[25,11,8,9,"sanitizeConfig"],[25,25,8,0],[25,26,8,24,"config"],[25,32,8,0],[25,34,8,32],[26,0,9,2],[26,9,9,7],[26,13,9,13,"key"],[26,16,9,2],[26,20,9,20,"config"],[26,26,9,2],[26,28,9,28],[27,0,10,4],[27,10,10,10,"value"],[27,15,10,15],[27,18,10,18,"config"],[27,24,10,24],[27,25,10,25,"key"],[27,28,10,24],[27,29,10,4],[29,0,11,4],[29,10,11,8,"value"],[29,15,11,13],[29,27,11,25,"AnimatedNode"],[29,39,11,4],[29,41,11,39],[30,0,12,6,"config"],[30,8,12,6,"config"],[30,14,12,12],[30,15,12,13,"key"],[30,18,12,12],[30,19,12,6],[30,22,12,20,"value"],[30,27,12,25],[30,28,12,26,"__nodeID"],[30,36,12,6],[31,0,13,5],[32,0,14,3],[34,0,15,2],[34,11,15,9,"config"],[34,17,15,2],[35,0,16,1],[37,0,18,0],[37,11,18,9,"runPropUpdates"],[37,25,18,0],[37,28,18,26],[38,0,19,2],[38,8,19,8,"visitedNodes"],[38,20,19,20],[38,23,19,23],[38,27,19,27,"Set"],[38,30,19,23],[38,32,19,2],[40,0,20,2],[40,8,20,8,"findAndUpdateNodes"],[40,26,20,26],[40,29,20,29],[40,38,20,8,"findAndUpdateNodes"],[40,56,20,29],[40,57,20,29,"node"],[40,61,20,33],[40,63,20,37],[41,0,21,4],[41,10,21,8,"visitedNodes"],[41,22,21,20],[41,23,21,21,"has"],[41,26,21,8],[41,27,21,25,"node"],[41,31,21,8],[41,32,21,4],[41,34,21,32],[42,0,22,6],[43,0,23,5],[43,7,21,4],[43,13,23,11],[44,0,24,6,"visitedNodes"],[44,8,24,6,"visitedNodes"],[44,20,24,18],[44,21,24,19,"add"],[44,24,24,6],[44,25,24,23,"node"],[44,29,24,6],[45,0,25,5],[47,0,26,4],[47,10,26,8],[47,17,26,15,"node"],[47,21,26,19],[47,22,26,20,"update"],[47,28,26,8],[47,33,26,31],[47,43,26,4],[47,45,26,43],[48,0,27,6,"node"],[48,8,27,6,"node"],[48,12,27,10],[48,13,27,11,"update"],[48,19,27,6],[49,0,28,5],[49,7,26,4],[49,13,28,11],[50,0,29,6,"node"],[50,8,29,6,"node"],[50,12,29,10],[50,13,29,11,"__getChildren"],[50,26,29,6],[50,29,29,27,"forEach"],[50,36,29,6],[50,37,29,35,"findAndUpdateNodes"],[50,55,29,6],[51,0,30,5],[52,0,31,3],[52,5,20,2],[54,0,32,2],[54,9,32,7],[54,13,32,11,"i"],[54,14,32,12],[54,17,32,15],[54,18,32,2],[54,20,32,18,"i"],[54,21,32,19],[54,24,32,22,"UPDATED_NODES"],[54,37,32,35],[54,38,32,36,"length"],[54,44,32,2],[54,46,32,44,"i"],[54,47,32,45],[54,49,32,2],[54,51,32,49],[55,0,33,4],[55,10,33,10,"node"],[55,14,33,14],[55,17,33,17,"UPDATED_NODES"],[55,30,33,30],[55,31,33,31,"i"],[55,32,33,30],[55,33,33,4],[56,0,34,4,"findAndUpdateNodes"],[56,6,34,4,"findAndUpdateNodes"],[56,24,34,22],[56,25,34,23,"node"],[56,29,34,22],[56,30,34,4],[57,0,35,3],[59,0,36,2,"UPDATED_NODES"],[59,4,36,2,"UPDATED_NODES"],[59,17,36,15],[59,18,36,16,"length"],[59,24,36,2],[59,27,36,25],[59,28,36,2],[60,0,37,2,"propUpdatesEnqueued"],[60,4,37,2,"propUpdatesEnqueued"],[60,23,37,21],[60,26,37,24],[60,30,37,2],[61,0,38,2,"loopID"],[61,4,38,2,"loopID"],[61,10,38,8],[61,14,38,12],[61,15,38,2],[62,0,39,1],[64,0,41,0],[64,6,41,4,"nodeCount"],[64,15,41,13],[64,18,41,16],[64,19,41,0],[66,6,43,21,"AnimatedNode"],[66,18],[67,0,44,2],[67,26,44,14,"nodeConfig"],[67,36,44,2],[67,38,44,26,"inputNodes"],[67,48,44,2],[67,50,44,38],[68,0,44,38],[70,0,44,38],[70,11,64,2,"__lastLoopID"],[70,23,44,38],[70,26,64,17],[70,27,44,38],[71,0,44,38],[71,11,65,2,"__memoizedValue"],[71,26,44,38],[71,29,65,20],[71,33,44,38],[72,0,44,38],[72,11,67,2,"__children"],[72,21,44,38],[72,24,67,15],[72,26,44,38],[73,0,45,4],[73,11,45,9,"__nodeID"],[73,19,45,4],[73,22,45,20],[73,24,45,22,"nodeCount"],[73,33,45,4],[74,0,46,4],[74,11,46,9,"__nodeConfig"],[74,23,46,4],[74,26,46,24,"sanitizeConfig"],[74,40,46,38],[74,41,46,39,"nodeConfig"],[74,51,46,38],[74,52,46,4],[75,0,47,4],[75,11,47,9,"__initialized"],[75,24,47,4],[75,27,47,25],[75,32,47,4],[76,0,48,4],[76,11,48,9,"__inputNodes"],[76,23,48,4],[76,26,49,6,"inputNodes"],[76,36,49,16],[76,40,49,20,"inputNodes"],[76,50,49,30],[76,51,49,31,"filter"],[76,57,49,20],[76,58,49,38],[76,68,49,38,"node"],[76,72,49,42],[77,0,49,42],[77,15,49,46,"node"],[77,19,49,50],[77,31,49,62,"AnimatedNode"],[77,43,49,42],[78,0,49,42],[78,7,49,20],[78,8,48,4],[79,0,50,3],[83,33,52,13],[84,0,52,13],[86,0,53,4],[86,13,53,9,"__nativeInitialize"],[86,31,53,4],[88,0,54,4],[88,13,54,9,"__inputNodes"],[88,25,54,4],[88,29,55,6],[88,34,55,11,"__inputNodes"],[88,46,55,6],[88,47,55,24,"forEach"],[88,54,55,6],[88,55,55,32],[88,65,55,32,"node"],[88,69,55,36],[89,0,55,36],[89,17,55,40,"node"],[89,21,55,44],[89,22,55,45,"__addChild"],[89,32,55,40],[89,33,55,56],[89,38,55,40],[89,39,55,36],[90,0,55,36],[90,9,55,6],[90,10,54,4],[91,0,56,3],[94,33,58,13],[95,0,58,13],[97,0,59,4],[97,13,59,9,"__inputNodes"],[97,25,59,4],[97,29,60,6],[97,34,60,11,"__inputNodes"],[97,46,60,6],[97,47,60,24,"forEach"],[97,54,60,6],[97,55,60,32],[97,65,60,32,"node"],[97,69,60,36],[98,0,60,36],[98,17,60,40,"node"],[98,21,60,44],[98,22,60,45,"__removeChild"],[98,35,60,40],[98,36,60,59],[98,42,60,40],[98,43,60,36],[99,0,60,36],[99,9,60,6],[99,10,59,4],[101,0,61,4],[101,13,61,9,"__nativeTearDown"],[101,29,61,4],[102,0,62,3],[105,35,69,15],[106,0,70,4],[106,12,70,8],[106,17,70,13,"__lastLoopID"],[106,29,70,8],[106,32,70,28,"loopID"],[106,38,70,4],[106,40,70,36],[107,0,71,6],[107,15,71,11,"__lastLoopID"],[107,27,71,6],[107,30,71,26,"loopID"],[107,36,71,6],[108,0,72,6],[108,17,72,14],[108,22,72,19,"__memoizedValue"],[108,37,72,14],[108,40,72,37],[108,45,72,42,"__onEvaluate"],[108,57,72,37],[108,59,72,6],[109,0,73,5],[111,0,74,4],[111,15,74,11],[111,20,74,16,"__memoizedValue"],[111,35,74,4],[112,0,75,3],[115,41,77,21,"newValue"],[115,49],[115,51,77,31],[116,0,78,4],[116,13,78,9,"__memoizedValue"],[116,28,78,4],[116,31,78,27,"newValue"],[116,39,78,4],[118,0,79,4],[118,13,79,9,"__markUpdated"],[118,26,79,4],[119,0,80,3],[122,56,82,36],[123,0,83,4],[123,13,83,9,"__lastLoopID"],[123,25,83,4],[123,28,83,24],[123,29,83,4],[125,0,84,4],[125,13,84,9,"__markUpdated"],[125,26,84,4],[126,0,85,3],[129,38,87,18],[130,0,88,4,"UPDATED_NODES"],[130,8,88,4,"UPDATED_NODES"],[130,21,88,17],[130,22,88,18,"push"],[130,26,88,4],[130,27,88,23],[130,31,88,4],[132,0,89,4],[132,12,89,8],[132,13,89,9,"propUpdatesEnqueued"],[132,32,89,4],[132,34,89,30],[133,0,90,6,"propUpdatesEnqueued"],[133,10,90,6,"propUpdatesEnqueued"],[133,29,90,25],[133,32,90,28,"setImmediate"],[133,44,90,40],[133,45,90,41,"runPropUpdates"],[133,59,90,40],[133,60,90,6],[134,0,91,5],[135,0,92,3],[138,43,94,23],[139,0,95,4],[139,12,95,8],[139,13,95,9],[139,18,95,14,"__initialized"],[139,31,95,4],[139,33,95,29],[140,0,96,6,"ReanimatedModule"],[140,36,96,23,"createNode"],[140,46,96,6],[140,47,96,34],[140,52,96,39,"__nodeID"],[140,60,96,6],[140,80,96,54],[140,85,96,59,"__nodeConfig"],[140,97,96,6],[142,0,97,6],[142,15,97,11,"__initialized"],[142,28,97,6],[142,31,97,27],[142,35,97,6],[143,0,98,5],[144,0,99,3],[147,41,101,21],[148,0,102,4],[148,12,102,8],[148,17,102,13,"__initialized"],[148,30,102,4],[148,32,102,28],[149,0,103,6,"ReanimatedModule"],[149,36,103,23,"dropNode"],[149,44,103,6],[149,45,103,32],[149,50,103,37,"__nodeID"],[149,58,103,6],[151,0,104,6],[151,15,104,11,"__initialized"],[151,28,104,6],[151,31,104,27],[151,36,104,6],[152,0,105,5],[153,0,106,3],[156,46,108,26],[157,0,109,4],[157,15,109,11],[157,20,109,16,"__initialized"],[157,33,109,4],[158,0,110,3],[161,37,112,17],[162,0,113,4],[162,14,113,10],[162,18,113,14,"Error"],[162,23,113,10],[162,24,113,20],[162,62,113,10],[162,63,113,4],[163,0,114,3],[166,35,116,15],[167,0,117,4],[167,15,117,11],[167,20,117,16,"__getValue"],[167,30,117,11],[167,32,117,4],[168,0,118,3],[171,38,120,18],[172,0,121,4],[172,15,121,11],[172,20,121,16,"__children"],[172,30,121,4],[173,0,122,3],[176,33,124,13,"child"],[176,38],[176,40,124,20],[177,0,125,4],[177,12,125,8],[177,17,125,13,"__children"],[177,27,125,8],[177,28,125,24,"length"],[177,34,125,8],[177,39,125,35],[177,40,125,4],[177,42,125,38],[178,0,126,6],[178,15,126,11,"__attach"],[178,23,126,6],[179,0,127,5],[181,0,128,4],[181,13,128,9,"__children"],[181,23,128,4],[181,24,128,20,"push"],[181,28,128,4],[181,29,128,25,"child"],[181,34,128,4],[183,0,129,4,"child"],[183,8,129,4,"child"],[183,13,129,9],[183,14,129,10,"__nativeInitialize"],[183,32,129,4],[185,0,131,4,"ReanimatedModule"],[185,34,131,21,"connectNodes"],[185,46,131,4],[185,47,131,34],[185,52,131,39,"__nodeID"],[185,60,131,4],[185,62,131,49,"child"],[185,67,131,54],[185,68,131,55,"__nodeID"],[185,76,131,4],[186,0,132,3],[189,36,134,16,"child"],[189,41],[189,43,134,23],[190,0,135,4],[190,12,135,10,"index"],[190,17,135,15],[190,20,135,18],[190,25,135,23,"__children"],[190,35,135,18],[190,36,135,34,"indexOf"],[190,43,135,18],[190,44,135,42,"child"],[190,49,135,18],[190,50,135,4],[192,0,136,4],[192,12,136,8,"index"],[192,17,136,13],[192,22,136,18],[192,23,136,19],[192,24,136,4],[192,26,136,22],[193,0,137,6,"console"],[193,10,137,6,"console"],[193,17,137,13],[193,18,137,14,"warn"],[193,22,137,6],[193,23,137,19],[193,68,137,6],[194,0,138,6],[195,0,139,5],[197,0,140,4,"ReanimatedModule"],[197,34,140,21,"disconnectNodes"],[197,49,140,4],[197,50,140,37],[197,55,140,42,"__nodeID"],[197,63,140,4],[197,65,140,52,"child"],[197,70,140,57],[197,71,140,58,"__nodeID"],[197,79,140,4],[199,0,142,4],[199,13,142,9,"__children"],[199,23,142,4],[199,24,142,20,"splice"],[199,30,142,4],[199,31,142,27,"index"],[199,36,142,4],[199,38,142,34],[199,39,142,4],[201,0,143,4],[201,12,143,8],[201,17,143,13,"__children"],[201,27,143,8],[201,28,143,24,"length"],[201,34,143,8],[201,39,143,35],[201,40,143,4],[201,42,143,38],[202,0,144,6],[202,15,144,11,"__detach"],[202,23,144,6],[203,0,145,5],[204,0,146,3],[207,43,148,23,"nativeViewTag"],[207,56],[207,58,148,38],[208,0,149,4,"ReanimatedModule"],[208,34,149,21,"connectNodeToView"],[208,51,149,4],[208,52,149,39],[208,57,149,44,"__nodeID"],[208,65,149,4],[208,67,149,54,"nativeViewTag"],[208,80,149,4],[209,0,150,3],[212,46,152,26,"nativeViewTag"],[212,59],[212,61,152,41],[213,0,153,4,"ReanimatedModule"],[213,34,153,21,"disconnectNodeFromView"],[213,56,153,4],[213,57,153,44],[213,62,153,49,"__nodeID"],[213,70,153,4],[213,72,153,59,"nativeViewTag"],[213,85,153,4],[214,0,154,3]]},"type":"js/module"}]}